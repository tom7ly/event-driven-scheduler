(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{4435:function(e,t,n){Promise.resolve().then(n.bind(n,4015))},4930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let l=n(1024);n(2265);let s=l._(n(4795));function a(e){return{default:(null==e?void 0:e.default)||e}}function r(e,t){let n=s.default,l={loading:e=>{let{error:t,isLoading:n,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e),Object.assign(l,t);let r=l.loader;return n({...l,loader:()=>null!=r?r().then(a):Promise.resolve(a(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6005:function(e,t,n){"use strict";function l(e){let{children:t}=e;return t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return l}}),n(6491)},4795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let l=n(1024)._(n(2265)),s=n(6005),a=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function n(e){let n=t.loading,a=l.default.createElement(n,{isLoading:!0,pastDelay:!0,error:null}),r=t.ssr?l.default.Fragment:s.NoSSR,i=t.lazy;return l.default.createElement(l.default.Suspense,{fallback:a},l.default.createElement(r,null,l.default.createElement(i,e)))}return t.lazy=l.default.lazy(t.loader),n.displayName="LoadableComponent",n}},6098:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var l=n(7437),s=n(1865);let a=e=>{let{label:t,error:n,register:s,name:a,className:r="",inputClassName:i="",onChange:o,textarea:c,...d}=e,u={className:"border p-2 border-blue-400  rounded-lg w-full ".concat(i),...s(a,{required:!0}),...d};return(0,l.jsxs)("label",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[t,n&&(0,l.jsx)("span",{className:"text-red-500 pl-2 text-sm font-semibold",children:"This field is required"})]}),c?(0,l.jsx)("textarea",{...u}):(0,l.jsx)("input",{...u})]})};var r=n(2265);let i=e=>{let{label:t,error:n,register:s,name:a,options:r,wrapClassName:i="w-2/4",...o}=e;return(0,l.jsx)("div",{className:"flex flex-col ".concat(i),children:(0,l.jsxs)("label",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[t,n&&(0,l.jsx)("span",{className:"text-red-500 pl-2 font-bold text-sm ",children:"This field is required"})]}),(0,l.jsxs)("select",{className:"border p-2 border-blue-400 rounded-full w-full",...s(a,{required:!0}),...o,children:[(0,l.jsxs)("option",{value:"",children:["Select ",t.toLowerCase()]}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]})})},o={London:["The O2","Royal Albert Hall","Wembley Stadium"],"New York":["Madison Square Garden","Radio City Music Hall","Carnegie Hall"],Berlin:["Berghain","Watergate","Tresor"],Paris:["Moulin Rouge","Le Trianon","Olympia"]},c=e=>{let{onEvent:t=async e=>{},event:n}=e,{watch:c,register:d,handleSubmit:u,setValue:x,trigger:f,formState:{errors:m,isValid:p}}=(0,s.cI)({mode:"onChange"});(0,r.useEffect)(()=>{if(console.log(n),n){let{title:e,description:t,eventSchedule:l,location:s,venue:a,participants:r}=n;x("title",e),x("description",t),x("eventSchedule",new Date(l).toISOString().substring(0,16)),x("location",s),x("venue",a),x("participants",r),x("_id",n._id),f()}},[n,x]);let h=c("location"),v=Object.keys(o),j=h?o[h]:[];n&&-1===j.indexOf(n.venue)&&j.push(n.venue);let b=async e=>{await t(e)};return(0,l.jsx)("div",{className:"p-10  w-full",children:(0,l.jsxs)("form",{onSubmit:u(b),className:"space-y-4 flex-col  flex ",children:[(0,l.jsx)(a,{label:"Event Title",error:m.eventTitle,register:d,name:"title",type:"text",placeholder:"Event Title"}),(0,l.jsx)(a,{label:"Event Description",error:m.eventDescription,register:d,name:"description",type:"text",inputClassName:"h-20",textarea:!0}),(0,l.jsx)(a,{label:"Event Time",error:m.eventTime,register:d,name:"eventSchedule",type:"datetime-local"}),(0,l.jsxs)("div",{className:"flex w-full",children:[(0,l.jsx)(i,{wrapClassName:"w-2/4",label:"City",error:m.eventLocation,register:d,name:"location",options:v}),(0,l.jsx)(i,{wrapClassName:"pl-2 w-2/4",label:"Venue",disabled:!h,error:m.eventVenue,register:d,name:"venue",options:j})]}),(0,l.jsx)(a,{label:"Participants",error:m.participants,register:d,name:"participants",type:"number",placeholder:"Participants"}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("button",{disabled:!p,type:"submit",className:"p-2 justify-center  ".concat(p?"bg-blue-400":"bg-gray-600"," rounded-full  text-white w-2/4"),children:"Submit"})})]})})}},4015:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var l=n(7437),s=n(2265),a=n(4568),r=n(4930),i=n.n(r);let o=e=>{let{onLoaded:t}=e,[n,a]=(0,s.useState)(new Date);(0,s.useEffect)(()=>{let e=setInterval(()=>{a(new Date)},1e3);return t(),()=>{clearInterval(e)}},[]);let r=n?n.toLocaleTimeString("en-US",{hour12:!1}):"",i=Intl.DateTimeFormat().resolvedOptions().timeZone,o=n?(-(n.getTimezoneOffset()/60)).toFixed(0):"",c="GMT".concat(Number(o)>0?"+":"").concat(o);return n?(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-lg ease-in-out text-blue-500 font-extrabold select-none",children:n.toDateString()}),(0,l.jsx)("hr",{className:"border-blue-400 w-3/3 my-0 "}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h2",{className:"text-sm text-blue-400 font-extrabold select-none",children:r}),(0,l.jsxs)("h3",{className:"text-sm pl-2 text-blue-400 font-extrabold select-none",children:[c," (",i,")"]})]})]}):""};var c=i()(()=>Promise.resolve(o),{ssr:!1});function d(e){let{onClick:t,className:n,buttonText:s}=e;return(0,l.jsx)("div",{className:n,children:(0,l.jsx)("button",{onClick:t,className:"bg-blue-500  ease-in-out  duration-200  hover:scale-110 text-white  font-bold  py-2  px-4  rounded",children:null==s?void 0:s.toString()})})}var u=n(6098),x=n(5529),f=n(5698),m=e=>{let{eventProp:t,isOpen:n,onClose:a}=e,[r,i]=(0,s.useState)();return((0,s.useEffect)(()=>{i(t)},[t]),n)?(0,l.jsx)("div",{className:"fixed inset-0  transform translate  bg-opacity-70 bg-gray-800 overflow-y-auto h-full w-full  ",children:(0,l.jsxs)("div",{className:"relative flex  top-20 ease-in-out duration-200 transition-opacity  mx-auto p-5 border w-1/2 justify-center shadow-lg rounded-md bg-white",children:[(0,l.jsx)(u.$,{onEvent:a,event:r}),(0,l.jsx)("div",{className:"absolute right-0 top-0 p-5 scale-150",children:(0,l.jsx)(f.h,{SvgIcon:()=>(0,x.e)({iconColor:"text-red-400"}),onClickCb:()=>a(r)})})]})}):null};function p(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(),[u,p]=(0,s.useState)(!1),[h,v]=(0,s.useState)(!1),j=n=>{console.log("deleting event"),(async e=>await a.a.gw.events.delete("/".concat(e)))(n).then(l=>{console.log(l),t(e.filter(e=>e._id!==n))}).catch(e=>{console.log(e)})},b=n=>{console.log("editing event"),(async e=>(await a.a.gw.events.put("/".concat(e._id),e)).data)(n).then(n=>{console.log(n),t(e.map(e=>e._id===n._id?n:e))})};(0,s.useEffect)(()=>{(async()=>{console.log("fetching events"),t(await (async()=>(await a.a.gw.events.get("/")).data)())})()},[]);let g=e=>{o(e),v(!0)};return(0,l.jsxs)("div",{className:"bg-white shadow-neutral-700 rounded-sm ",children:[(0,l.jsxs)("div",{className:"flex items justify-between pb-4",children:[(0,l.jsx)(c,{onLoaded:()=>{console.log("clock loaded"),r(!0)}}),n?(0,l.jsx)(d,{buttonText:"Add Event",onClick:()=>{o(void 0),p(!0)}}):"",(0,l.jsx)(m,{isOpen:u,onClose:n=>{console.log(n),n&&t([...e,n]),p(!1)}}),(0,l.jsx)(m,{eventProp:i,isOpen:h,onClose:e=>{console.log(e),e&&b(e),v(!1)}})]}),(null==e?void 0:e.length)>0?(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"grid grid-cols-12 p-2 pl-6",children:[(0,l.jsx)("div",{className:"col-span-2",children:"Title"}),(0,l.jsx)("div",{className:"col-span-2",children:"Event Time"}),(0,l.jsx)("div",{className:"col-span-"}),(0,l.jsx)("div",{className:"col-span-2",children:"Location"}),(0,l.jsx)("div",{className:"col-span-2",children:"Participants"}),(0,l.jsx)("div",{className:"col-span-2",children:"Venue"}),(0,l.jsx)("div",{className:"col-span-2"})]}),e.map(e=>(0,l.jsxs)("div",{className:"grid grid-cols-12 bg-gray-500 w-full rounded-sm p-2 pl-6 items-center m-0.5",children:[(0,l.jsx)("p",{className:"text-sm text-white col-span-2",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-white col-span-2",children:new Date(e.eventSchedule).toLocaleString("en-GB",{hour12:!1,hourCycle:"h23"})}),(0,l.jsx)("p",{className:"text-sm text-white col-span-1"}),(0,l.jsx)("p",{className:"text-sm text-white col-span-2",children:e.location}),(0,l.jsx)("a",{className:"text-sm text-white col-span-2 pl-1",children:e.participants}),(0,l.jsx)("p",{className:"text-sm text-white col-span-2",children:e.venue}),(0,l.jsxs)("div",{className:"col-span-1 w-full pr-10 flex ",children:[(0,l.jsx)(f.h,{onClickCb:()=>g(e),SvgIcon:x.U}),(0,l.jsx)(f.h,{onClickCb:()=>j(e._id),SvgIcon:x.e})]})]},e._id))]}):(0,l.jsx)("div",{className:" flex justify-center text-3xl  text-gray-500 pt-40",children:"No events found, create one in the Dashboard! :)"})]})}},5698:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var l=n(7437);let s=e=>{let{onClickCb:t,SvgIcon:n}=e;return(0,l.jsxs)("button",{onClick:t,className:"font-bold py-2  rounded inline-flex items-center",children:[(0,l.jsx)(n,{}),(0,l.jsx)("span",{})]})}},5529:function(e,t,n){"use strict";n.d(t,{U:function(){return s},e:function(){return a}});var l=n(7437);let s=e=>{let{iconColor:t="text-blue-300",hoverColor:n="hover:text-teal-300"}=e;return(0,l.jsx)("svg",{className:"h-5 w-5 transform hover:scale-150 transition-transform duration-50 ".concat(t," ").concat(n," "),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})},a=e=>{let{iconColor:t="text-orange-300",hoverColor:n="text-red-300"}=e;return(0,l.jsxs)("svg",{className:"h-5 w-5 transform hover:scale-150 transition-transform duration-50 ".concat(t," ").concat(n," "),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[" ",(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"})," ",(0,l.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"})," ",(0,l.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}},4568:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});let l=new(n(5003))._Q}},function(e){e.O(0,[659,865,971,938,744],function(){return e(e.s=4435)}),_N_E=e.O()}]);